@{
    if (ViewBag.UserIsPremium)
    {
        try
        {
            <script src="https://sdk.scdn.co/spotify-player.js"></script>
            <script src="~/Scripts/WebPlayback.js"></script>
            <script>
            setAccessToken('@ViewBag.AccessToken');
            </script>

            <div id="player">
                TODO: MY accound is claimed as "free" tier, but I have premium. 
            </div>
        }
        catch (Exception ex)
        {
            <div class="rounded shadow text-white py-2 px-3" style="background: red;">
                <b>Ein Fehler ist beim Laden der Seite aufgetreten</b>
                <div class="mt-2" style="background: red;">
                    <b>Frontend: </b>@ex.Message<br />
                </div>
                <div class="mt-2" style="background: red;">
                    <b>Backend: </b>@ViewBag.Error<br />
                </div>
            </div>
        }
    }
    else
    {
        <div>
            <h1>Sorry</h1>
            <div class="mb-2">
                <b style="color: red;">Du scheinst kein Spotify Premium zu haben. Tut uns leid, aber ohne Premium geht da nichts!</b>
            </div>
            <a href="/">
                <button class="blueButton">Zur Startseite</button>
            </a>
        </div>
    }
}

